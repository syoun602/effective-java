# 인터페이스는 타입을 정의하는 용도로만 사용하라

## 인터페이스란?
인터페이스는 자신을 구현한 클래스의 인스턴스를 참조할 수 있는 타입 역할을 한다. 즉, 자신의 인스턴스로 무엇을 할 수 있는지 클라이언트에 얘기해주는 것이다.

인터페이스는 오직 **이 용도로만** 사용되어야 한다.

## 인터페이스의 잘못된 사용

예시 )
```java
public interface BlackjackConstants {
    
    static final int BLACK_JACK_NUMBER = 21;
    
    static final int ALTERNATE_ACE_VALUE = 11;
    
    static final int DEALER_MIN_VALUE = 17;
}
```


실제 자바 플랫폼 라이브러리의 상수 인터페이스 )
```java
public interface ObjectStreamConstants {

    static final short STREAM_MAGIC = (short)0xaced;

    static final short STREAM_VERSION = 5;

    static final byte TC_BASE = 0x70;

    static final byte TC_NULL =         (byte)0x70;
    
    .
    .
    .
    
    public static final int PROTOCOL_VERSION_1 = 1;

    public static final int PROTOCOL_VERSION_2 = 2;
}
```

위 코드들은 상수 인터페이스로 static final 필드로만 이루어진 인터페이스이다. 위와 같은 상수 인터페이스는 안티패턴이며 인터페이스를 잘못 사용한 것이다.

## 상수 인터페이스 왜 쓰지 말아야 할까?
1. 사용하지 않을 수도 있는 상수를 포함하여 모두 가져오기 때문에 계속 가지고 있어야 한다.  


2. 클라이언트가 상수 인터페이스 값에 직접 접근할 수 있다. 이때, 불필요한 정보를 노출하는 것이 오히려 클라이언트에게 혼란을 야기할 수 있다.
    - 인터페이스에 private이나 protected를 사용할 수 없기 때문
    
![img.png](images/interfaceAccessModifier.png)
    
3. 클래스가 어떤 상수 인터페이스를 사용하든 사용자에게는 **아무런 의미가 없다**.
   

5. final이 아닌 클래스가 상수 인터페이스를 구현한다면 모든 하위 클래스의 이름공간이 그 인터페이스가 정의한 상수들로 오염되어 버린다.

```java
public interface SomeInterface {
    static String NAME = "sunyong";
}

public class InterfaceImpl implements SomeInterface {

    public static void main(String[] args) {
        System.out.println(NAME);
    }
}

// 출력결과 : sunyong

public class InterfaceImpl implements SomeInterface {
    public static final String NAME = "babo";

    public static void main(String[] args) {
        System.out.println(NAME);
    }
}

// 출력결과 : babo
```

## 대안

### 클래스나 인터페이스 자체에 추가
Integer나 Double에 선언된 MIN_VALUE와 MAX_VALUE 상수
```java
public final class Integer extends Number
        implements Comparable<Integer>, Constable, ConstantDesc {
    
    @Native public static final int   MIN_VALUE = 0x80000000;
Integer
    
    @Native public static final int   MAX_VALUE = 0x7fffffff;
    
    ...

```
### 상수 유틸리티 클래스 제공
인스턴스화할 수 없는 유틸리티 클래스에 담아 공개 - 아이템 4
```java
public class BlackjackConstants {
    private BlackjackConstants() {
    }
    
    public static final int BLACKJACK_NUMBER = 21;
    public static final int ALTERNATE_ACE_VALUE = 11;
    public static final int DEALER_MIN_VALUE = 17;
}

public class BlackjackGame {
    public boolean isBust(int score) {
        return score > BLACKJACK_NUMBER;
    }
    
    public boolean shouldDealerDraw(int value) {
        return score < DEALER_MIN_VALUE;
    }
    ...
}
```

### Enum 활용
열거 타입으로 나타내기 적합한 상수라면 열거 타입으로 만들어 공개
```java
public enum PlayerResult {

    WIN("승"),
    DRAW("무"),
    LOSS("패"),
    ;

    private final String name;

    PlayerResult(final String name) {
        this.name = name;
    }
}
```

## 결론
인터페이스는 타입을 정의하는 용도로만 사용하고 상수 공개용 수단으로 사용하지 않아야 한다.
